{% extends 'base_content2.html' %}
{% load static %}
{% block content %}
<div class="container">
  <div class="row header-text">
    <div class="col-12">
      <h1>Welcome to your Journal, {{ user.username }}</h1>
      <h2>This is your weekly journal flower</h2>
      <p>Each day you log an entry, your flower grows, symbolising your progress. Miss a day, and the flower returns to a seed, reminding you to stay consistent. There are seven stages of growth, reflecting a full week of journaling. Regardless of your flower's growth stage, it resets every Monday, offering a fresh start.</p>
      <div class="flower-container">
        {% with request.user.flowergrowth.stage as stage %}
            {% if stage == 0 %}
                <img src="{% static 'images/flower_stage_0.png' %}" alt="Flower at stage 0">
            {% elif stage == 1 %}
                <img src="{% static 'images/flower_stage_1.png' %}" alt="Flower at stage 1">
            {% elif stage == 2 %}
                <img src="{% static 'images/flower_stage_2.png' %}" alt="Flower at stage 2">
            {% elif stage == 3 %}
                <img src="{% static 'images/flower_stage_3.png' %}" alt="Flower at stage 3">
            {% elif stage == 4 %}
                <img src="{% static 'images/flower_stage_4.png' %}" alt="Flower at stage 4">
            {% elif stage == 5 %}
                <img src="{% static 'images/flower_stage_5.png' %}" alt="Flower at stage 5">
            {% elif stage == 6 %}
                <img src="{% static 'images/flower_stage_6.png' %}" alt="Flower at stage 6">
            {% elif stage == 7 %}
                <img src="{% static 'images/flower_stage_7.png' %}" alt="Flower fully grown">
            {% endif %}
        {% endwith %}
    </div>
      <div>Number of days since Account is created: {{days_since_account_creation}}</div>
      <div>Number of days Journaled: {{days_journaled}}</div>
      <div>Journal Streak Days: {{journal_streak}}</div>
      <h2>Calendar</h2>
    </div>
    <div id="calendarApp">
      <div class="calendar-controls">
          <select id="monthSelect"></select>
          <select id="yearSelect"></select>
          <button id="goToDate">Go</button>
      </div>
      <table id="calendar">
          <thead>
              <tr><th>Sun</th><th>Mon</th><th>Tue</th><th>Wed</th><th>Thu</th><th>Fri</th><th>Sat</th></tr>
          </thead>
          <tbody></tbody>
      </table>
      <div class="calendar-navigation">
          <button id="prevMonth">Prev</button>
          <button id="nextMonth">Next</button>
      </div>
    </div>
    
    <div id="modal" class="modal">
      <div class="modal-content">
          <span class="close">&times;</span>
          <p id="modalText">Day selected</p>
      </div>
    </div>
</div>
{% endblock %}