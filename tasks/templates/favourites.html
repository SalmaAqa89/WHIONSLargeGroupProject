{% extends 'base_content2.html' %}
{% block content %}
<div class="container">
  <div class="row">
    <div class="col-12">
      <form method="get" action="{% url 'search_favourite' %}" autocomplete="off" id="search-form" class="mb-3">
        <input type="text" name="title" placeholder="Search Favourite Journals..." class="form-control" id="journal-search-box" oninput="showFavJournalSuggestions(this.value)">
        <button type="submit" class="btn btn-primary mt-2">Search</button>
        <div id="Fjournal-suggestions-container" class="suggestions-container"></div>
      </form>
      <h1>Welcome to your Favourites</h1>
      <div class="card-deck">
        {% for entry in journal_entries %}
        {% if not entry.deleted %}
          <div class="card mb-3">
            <div class="card-body">
              <a href="{% url 'unfavourite_entry' entry_id=entry.id %}" class="favourite">
                <img src="http://www.clker.com/cliparts/g/R/o/O/K/1/simple-star-md.png" height="20" width="20">
              </a>
              
              <h5 class="card-title">{{ entry.title }}</h5>
              <details id="details-{{ entry.id }}" data-entry-id="{{ entry.id }}">
                <summary id="summary-{{ entry.id }}">See More</summary>
                <p>{{ entry.text|safe }}</p>
              </details>
              
              <p>Mood: {{ entry.get_mood_display }}</p>
              <a href="{% url 'delete_entry' entry_id=entry.id %}" class="btn btn-danger">Delete Entry</a>
            </div>
          </div>
        {% endif %}
        {% empty %}
          <p>No favourite journal entries found.</p>
        {% endfor %}
      </div>
    </div>
  </div>
</div>



{% endblock %}